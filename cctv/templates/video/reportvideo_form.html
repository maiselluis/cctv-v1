{% extends 'base.html'%}
 {% block title %}
  CCTV @ CRC | Add Video
 {% endblock%}


 {%block content_header%}
 <div class="app-content-header"> 
  <div class="container-fluid"> 
      <div class="row">
          <div class="col-sm-6">
              <h3 class="mb-0">Upload Video </h3>
          </div>
          <div class="col-sm-6">
              <ol class="breadcrumb float-sm-end">
                  <li class="breadcrumb-item"><a  href={% url 'index' %}>Home</a></li>
                  <li class="breadcrumb-item active" aria-current="page">
                    <a href="{% url 'report-list' %}"> Report </a> 
                  </li>
                  <li class="breadcrumb-item active" aria-current="page">
                  
                    <a href="{% url 'reportvideo_list' report_id %}">  Videos</a>
                
                  </li>
                  <li class="breadcrumb-item active" aria-current="page">
                    Upload
                   </li>
              </ol>
          </div>
      </div> 
  </div> 
</div>
 {%endblock%}

 {%block content%}

 <div class="card card-primary card-outline mb-4">
    <div class="card-header">
        <h1>New Video</h1>
    </div>

<div class="card-body">
   
<form method="post" enctype="multipart/form-data" onsubmit="disableButtonVideo()">
    {% csrf_token %}
    {{ form.as_p }}
    
   

</div>
<div class="card-footer">
    <a href="{% url 'reportvideo_list' report_id %}" class="btn btn-secondary mb-2"> <i class="bi bi-arrow-left"> </i>Back</a>
    <button id="submitReport"  class="btn btn-success mb-2" type="submit">Save</button> 
    <button id="save_and_continue" class="btn btn-success mb-2" type="submit" name="save_and_continue">Save and  Continue</button>
  
</div>
</form>

 </div>



{%endblock%}

<script>
    function disableButtonVideo(){
    
        document.getElementById("submitReport").disabled=true;
    
        document.getElementById("save_and_continue").addEventListener("click", function(){
    
            setTimeout(()=>{
                this.disabled=true;
            },50);
        });
    
    }
    
     </script>